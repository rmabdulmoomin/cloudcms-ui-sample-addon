define(["alpaca","ui","jquery","oneteam","ratchet/dynamic/empty","content-helpers","ratchet/ratchet","app/gadgets/project/document/view/document-view-properties"],(function(e,t,o,n,i,r,a,s){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}([function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,o){var n;void 0===(n=function(e,t,o){var n=window.CKEDITOR;return{registerPlugin:function(e,t){var o="../../../"+t+"/oup-ui/plugins/ckeditor/wordcount/";n.plugins.addExternal(e,o,"plugin.js"),n.config.extraPlugins.length>0&&(n.config.extraPlugins+=","),n.config.extraPlugins+=e},registerPlugin1:function(e,t){var o="../../../"+t+"/oup-ui/plugins/ckeditor/a11ychecker/";n.plugins.addExternal(e,o,"plugin.js"),n.config.extraPlugins.length>0&&(n.config.extraPlugins+=","),n.config.extraPlugins+=e},registerPlugin2:function(e,t){var o="../../../"+t+"/oup-ui/plugins/ckeditor/balloonpanel/";n.plugins.addExternal(e,o,"plugin.js"),n.config.extraPlugins.length>0&&(n.config.extraPlugins+=","),n.config.extraPlugins+=e},registerPlugin3:function(e,t){var o="../../../"+t+"/oup-ui/plugins/ckeditor/orcidIcon/";n.plugins.addExternal(e,o,"plugin.js"),n.config.extraPlugins.length>0&&(n.config.extraPlugins+=","),n.config.extraPlugins+=e},registerPlugin4:function(e,t){var o="../../../"+t+"/oup-ui/plugins/ckeditor/expandablelist/";n.plugins.addExternal(e,o,"plugin.js"),n.config.extraPlugins.length>0&&(n.config.extraPlugins+=","),n.config.extraPlugins+=e}}}.call(t,o,t,e))||(e.exports=n)},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),r=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[o].concat(r).concat([i]).join("\n")}return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o})).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(n[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),t.push(a))}},t}},function(e,t){e.exports=o},function(e,t){e.exports=n},function(e,t,o){e.exports=o(8)},function(e,t,o){var n;void 0===(n=function(e){o(9),o(13),o(16),o(18),o(19),o(20),o(21),o(22),o(23),o(24),o(26),o(27),o(28),o(29),o(30),o(31),o(32),o(34)}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){var n;void 0===(n=function(e,t,n){o(10);var i=o(11),r=o(12),a=o(1);return a.registerGadget("sample-products-list",r.extend({TEMPLATE:i,setup:function(){this.get("/projects/{projectId}/products",this.index)},prepareModel:function(e,t,o){var n=this.observable("project").get(),i=this.observable("branch").get();this.base(e,t,(function(){i.queryNodes({_type:"catalog:product"}).then((function(){t.products=this.asArray();for(var e=0;e<t.products.length;e++){var i=t.products[e];i.imageUrl256="/preview/repository/"+i.getRepositoryId()+"/branch/"+i.getBranchId()+"/node/"+i.getId()+"/default?size=256&name=preview256&force=true",i.imageUrl128="/preview/repository/"+i.getRepositoryId()+"/branch/"+i.getBranchId()+"/node/"+i.getId()+"/default?size=128&name=preview128&force=true",i.browseUrl="/#/projects/"+n._doc+"/documents/"+i._doc}o()}))}))},afterSwap:function(e,t,o,n){this.base(e,t,o,(function(){$(e).find(".media-popup").click((function(e){e.preventDefault();var o=$(this).attr("data-media-index"),n=t.products[o];a.showPopupModal({title:"Viewing: "+n.title,body:"<div style='text-align:center'><img src='"+n.imageUrl256+"'></div>"})})),n()}))}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){(e.exports=o(4)(!1)).push([e.i,"",""])},function(e,t){e.exports='<div>\r\n    {{#each products}}\r\n    <div class="media">\r\n        <div class="media-left">\r\n            <a href="#" class="media-popup" data-media-index="{{@index}}">\r\n                <img class="media-object" src="{{imageUrl128}}" alt="{{title}}">\r\n            </a>\r\n        </div>\r\n        <div class="media-body">\r\n            <h4 class="media-heading">\r\n                <a href="{{browseUrl}}">{{title}}</a>\r\n            </h4>\r\n            {{description}}\r\n        </div>\r\n    </div>\r\n    {{/each}}\r\n</div>\r\n'},function(e,t){e.exports=i},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(14);o(15);var r=o(1);return r.registerDashlet("sample-random-product-dashlet",r.AbstractDashlet.extend({TEMPLATE:i,configureDefault:function(){this.base(),this.config({message:"And your product is..."})},prepareModel:function(e,t,o){var n=this,i=this.observable("branch").get();this.base(e,t,(function(){t.message=n.config().message,i.queryNodes({_type:"catalog:product"}).then((function(){var e=this.asArray(),n=t.product=e[Math.floor(Math.random()*e.length)];n.imageUrl="/preview/repository/"+n.getRepositoryId()+"/branch/"+n.getBranchId()+"/node/"+n.getId()+"/default?size=256&name=preview256",o()}))}))},afterSwap:function(e,t,o,n){this.base(e,t,o,(function(){n()}))},isConfigurable:function(){return!0},handleConfiguration:function(e,t,o){var n={};n.data=t,n.schema={type:"object",properties:{title:{type:"string",title:"Title"},config:{type:"object",title:"Configuration",properties:{message:{type:"string",title:"Message"}}}}},n.options={},n.observableHolder=Ratchet,r.configureDashlet(n,(function(e,t){o(e,t)}))}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t){e.exports='<div>\r\n\r\n    <div style="text-align:center">\r\n        <p>{{message}}</p>\r\n        <p>{{product.title}}</p>\r\n\r\n        <a href="/#/projects/{{project._doc}}/documents/{{product._doc}}">\r\n            <img src="{{product.imageUrl}}" alt="{{product.title}}">\r\n        </a>\r\n\r\n    </div>\r\n\r\n</div>\r\n'},function(e,t,o){(e.exports=o(4)(!1)).push([e.i,".dashlet.sample-dashlet .dashlet-body>div{padding:10px}",""])},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(1),r=o(17);return i.registerAction("create-sample-space",i.AbstractUIAction.extend({defaultConfiguration:function(){var e=this.base();return e.title="Create Sample Space",e.iconClass="fa fa-plus",e},prepareAction:function(e,t,o){e.currentPath=e.observable("path").get(),o()},executeAction:function(e,t,o){var n=this;i.renderForm(e,{data:{title:"My Sample Space",description:"Description of my sample space"},schema:{type:"object",properties:{title:{type:"string",required:!0},description:{type:"string"}}},options:{fields:{title:{type:"text",label:"Title"},description:{type:"textarea",label:"Description"}},focus:"title"}},(function(o){i.showModal({title:t.title,form:o,buttons:[{id:"create",title:"Create",handler:function(t){i.showWaitModal("Creating the sample space...",(function(){n.createHandler(e,o.getValue(),(function(){i.hideWaitModal()}))}))}}],bindFormEnterKeyToButton:"create",cancel:!0},(function(e){}))}))},createHandler:function(e,t,o){r.addContent(e,[{type:"folder",properties:t,parentFolderPath:e.currentPath},{type:"folder",properties:{title:"Files"},parentFolderPath:e.currentPath+"/"+t.title},{type:"file",properties:{title:"helloworld.txt"},parentFolderPath:e.currentPath+"/"+t.title+"/Files",text:"Hello World!"}],(function(e){o()}))}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t){e.exports=r},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(1),r=o(0),a=o(5);return i.registerField("sample-city-picker",r.Fields.SelectField.extend({setup:function(){this.base(),this.options.dataSource=function(e){a.ajax({method:"GET",url:"https://raw.githubusercontent.com/gitana/cloudcms-ui-sample-addon/master/data/cities.json",dataType:"json"}).done((function(t){e(t.cities)}))}}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(1),r=o(0);return i.registerField("sample-content-picker",r.Fields.SelectField.extend({setup:function(){this.base(),this.options.contentType||(this.options.contentType="catalog:product"),this.options.dataSource={connector:!0,config:{query:{_type:this.options.contentType},mappings:{value:"_doc",text:"title"}}}}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(0);i.Fields.Custom1Field=i.Fields.SelectField.extend({getFieldType:function(){return"custom-oup-sp-select"},setValue:function(e){this.base(e),$("#warning-message").length||$(this.getFieldEl()).append("<span id='warning-message' style='color:red'></span>"),this.getValue()||this.setDefault(),"Yes"==this.getValue()?($("#warning-message").empty(),$("#warning-message").html("Warning: Please consult with your key user. Pages set to Yes will not be indexed and will not appear in Google or other search engines.")):$("#warning-message").empty()},afterRenderControl:function(e,t){var o=this;this.base(e,(function(){o.getValue()&&"Yes"==o.getValue()?($(o.getFieldEl()).remove("#warning-message"),$(o.getFieldEl()).append("<span id='warning-message' style='color:red'>Warning: Please consult with your key user. Pages set to Yes will not be indexed and will not appear in Google or other search engines.</span>")):$(o.getFieldEl()).append("<span id='warning-message' style='color:red'></span>"),t()}))}}),i.registerFieldClass("custom-oup-sp-select",i.Fields.Custom1Field)}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(5),r=o(0);o(6),i.alpaca.Fields.CustomField=r.Fields.CheckBoxField.extend({getFieldType:function(){return"custom-check-box"},onChange:function(e){this.base(e),this.getFieldEl()||i(this.getFieldEl()).append("<span id='warning-message-checkbox' style='color:red'></span>"),this.getValue()||this.setDefault(),!0===this.getValue()?(i("#warning-message-checkbox").empty(),i("#warning-message-checkbox").html("Note, this option is not permitted for standard Journals secondary pages.")):i("#warning-message-checkbox").empty()},afterRenderControl:function(e,t){var o=this;this.base(e,(function(){o.getValue()&&1==o.getValue()?(i(o.getFieldEl()).remove("#warning-message-checkbox"),i(o.getFieldEl()).append("<span id='warning-message-checkbox' style='color:red'>Note, this option is not permitted for standard Journals secondary pages.</span>")):i(o.getFieldEl()).append("<span id='warning-message-checkbox' style='color:red'></span>"),t()}))}}),r.registerFieldClass("custom-check-box",r.Fields.CustomField)}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){(function(e){var n;void 0===(n=function(e,t,o){var n=o.uri.match(/^.+(_modules[^\/]+)\/.*/)[1],i="../../../"+n+"/oup-ui/resources/contents.css",r="../../../"+n+"/oup-ui/resources/ckeditorCstm.css";window.CKEDITOR.config.contentsCss=["https://fonts.googleapis.com/css?family=Merriweather:300,400,400italic,700,700italic|Source+Sans+Pro:400,400italic,700,700italic",i,r]}.call(t,o,t,e))||(e.exports=n)}).call(this,o(2)(e))},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(0);i.Fields.Custom1Field=i.Fields.SelectField.extend({getFieldType:function(){return"custom-oup-type-select"},setValue:function(e){this.base(e),$("#media-kit-div").length||$(this.getFieldEl()).append("<div id='media-kit-div'><br/><legend>Media Kit Top Region</legend></div>"),this.getValue()||this.setDefault(),console.log("show -value is working"),"Media Kit"==this.getValue()?$("#media-kit-div").show():$("#media-kit-div").hide()},afterRenderControl:function(e,t){var o=this;this.base(e,(function(){console.log(" after render controll call *********** >>>",o.getValue()),o.getValue()&&"Media Kit"==o.getValue()?$(o.getFieldEl()).append("<div id='media-kit-div'><br/><legend>Media Kit Top Region</legend></div>"):$("#media-kit-div").hide(),t()}))}}),i.registerFieldClass("custom-oup-type-select",i.Fields.Custom1Field)}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(25),r=o(0),a=r.Fields.FilePickerField;r.registerFieldClass("oup-file-picker",a.extend({setup:function(){this.base(),this.options.picker&&this.options.picker.upload&&(this.options.picker.upload=!1)},initHandlebars:function(e,t,o){var n=this;this.base(e,t,(function(){var r=n.observable("document").get(),a=r.getRepositoryId(),s=r.getBranchId(),c=r.getId();$.ajax({type:"POST",url:"/proxy/repositories/"+a+"/branches/"+s+"/nodes/"+c+"/ancestorbytype?type=type:journalsitefolder0&paths=true",headers:{"X-CSRF-TOKEN":i.getCsrfToken()}}).always((function(n){n&&n._paths&&(t.nearestJournalFolderPath=n._paths["821c40ab613d9b5bcbbc656b62229301"]),o(e,t)}))}))}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t){e.exports=a},function(e,t,o){(function(e){var n;void 0===(n=function(e,t,n){var i=o(3),r=n.uri.match(/^.+(_modules[^\/]+)\/.*/)[1];i.registerPlugin("wordcount",r),window.CKEDITOR.config.wordcount={showParagraphs:!1,showWordCount:!1,showCharCount:!1,countSpacesAsChars:!1,countHTML:!1}}.call(t,o,t,e))||(e.exports=n)}).call(this,o(2)(e))},function(e,t,o){(function(e){var n;void 0===(n=function(e,t,n){var i=o(3),r=n.uri.match(/^.+(_modules[^\/]+)\/.*/)[1];i.registerPlugin1("a11ychecker",r)}.call(t,o,t,e))||(e.exports=n)}).call(this,o(2)(e))},function(e,t,o){(function(e){var n;void 0===(n=function(e,t,n){var i=o(3),r=n.uri.match(/^.+(_modules[^\/]+)\/.*/)[1];i.registerPlugin2("balloonpanel",r)}.call(t,o,t,e))||(e.exports=n)}).call(this,o(2)(e))},function(e,t,o){(function(e){var n;void 0===(n=function(e,t,n){var i=o(3),r=n.uri.match(/^.+(_modules[^\/]+)\/.*/)[1];i.registerPlugin3("orcidIcon",r)}.call(t,o,t,e))||(e.exports=n)}).call(this,o(2)(e))},function(e,t,o){(function(e){var n;void 0===(n=function(e,t,n){var i=o(3),r=n.uri.match(/^.+(_modules[^\/]+)\/.*/)[1];i.registerPlugin4("expandablelist",r)}.call(t,o,t,e))||(e.exports=n)}).call(this,o(2)(e))},function(e,t,o){var n;void 0===(n=function(e,t,n){o(5);var i=o(0);o(6),window.CKEDITOR.config.disableNativeSpellChecker=!1,window.CKEDITOR.config.forcePasteAsPlainText=!0;let r={height:50,toolbar:[]},a={height:50,toolbar:[["SpecialChar","Italic","Subscript","Superscript","-","RemoveFormat"]]},s={height:100,toolbar:[["Cut","Copy","Paste","-","Undo","Redo"],["Link","Unlink"],["Italic","BulletedList","Strike","Subscript","Superscript","SpecialChar","-","RemoveFormat","-","ShowBlocks"],["Format","Styles"],["cloudcms-image"]],removeButtons:null,stylesSet:[{name:"Paragraph",element:"p"},{name:"OUP unbulleted list",element:"ul",attributes:{class:"unbulleted"}},{name:"OUP horizontal list",element:"ul",attributes:{class:"inline"}},{name:"OUP floatLeft Image",element:"img",attributes:{class:"floatLeft"}},{name:"OUP floatRight Image",element:"img",attributes:{class:"floatRight"}}],"cloudcms-image":{enableSize:!1,enableAltText:!1,imagePickerType:"oup-file-picker",hideUploadButton:!0,imagePickerConfig:{rootContainerPath:"../../..",initialContainerPath:"{{nearestJournalFolderPath}}/Image Library"}}},c={height:100,toolbar:[["Format","-","Italic","SpecialChar","Subscript","Superscript","-","RemoveFormat","-","Link","Unlink","-","ShowBlocks"]],removeButtons:null},l={height:100,toolbar:[["Cut","Copy","Paste","-","Undo","Redo"],["Link","Unlink"],["Italic","BulletedList","Strike","Subscript","Superscript","SpecialChar","-","RemoveFormat","-","ShowBlocks"],["Format","Styles"]],removeButtons:null,stylesSet:[{name:"Paragraph",element:"p"},{name:"OUP unbulleted list",element:"ul",attributes:{class:"unbulleted"}},{name:"OUP horizontal list",element:"ul",attributes:{class:"inline"}},{name:"OUP floatLeft Image",element:"img",attributes:{class:"floatLeft"}},{name:"OUP floatRight Image",element:"img",attributes:{class:"floatRight"}}]};i.Fields.OUPCKEditorField=i.Fields.CKEditorField.extend({toolbarOptions:{config1:Object.create({toolbar:[["Cut","Copy","PasteText","-","Undo","Redo"],["Link","Unlink","Anchor","cloudcms-link"],["Table","SpecialChar","expandablelist"],["Maximize","ShowBlocks","Source","A11ychecker","Preview"],["Italic","Strike","Subscript","Superscript","-","RemoveFormat"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote"],["Format","Styles"],["cloudcms-image"],["cloudcms-iframe"],["orcidIcon"]],removeButtons:null,stylesSet:[{name:"Paragraph",element:"p"},{name:"OUP Notice",element:"div",attributes:{class:"notice"}},{name:"OUP unbulleted list",element:"ul",attributes:{class:"unbulleted"}},{name:"OUP horizontal list",element:"ul",attributes:{class:"inline"}},{name:"OUP floatLeft Image",element:"img",attributes:{class:"floatLeft"}},{name:"OUP floatRight Image",element:"img",attributes:{class:"floatRight"}}],"cloudcms-image":{enableSize:!1,enableAltText:!1,imagePickerType:"oup-file-picker",hideUploadButton:!0,imagePickerConfig:{rootContainerPath:"../../..",initialContainerPath:"{{nearestJournalFolderPath}}/Image Library"}},"cloudcms-link":{linkPickerType:"oup-file-picker",hideUploadButton:!0,linkPickerConfig:{rootContainerPath:"../../..",initialContainerPath:"{{nearestJournalFolderPath}}/Row Containers, Content Blocks, and Widgets"}}}),config2:Object.create(a),configAbtPnlHead:Object.create(a),configAbtPnlLinkText:Object.create(a),configMainTitleHP:Object.create(a),configHeadCB:Object.create(a),configSecTitleHP:Object.create(a),configSnippet:Object.create(a),configSnippetPodHP:Object.create(r),configSnippetBR:Object.create(r),configSnippetPodHP2:Object.create(a),configSnippetPodHP3:Object.create({height:50,toolbar:[["SpecialChar","Italic","Subscript","Superscript","-","RemoveFormat"],["Link","Unlink"]]}),config3:Object.create(s),configSecDescHP:Object.create(s),configMainDescHP:Object.create(s),config4:Object.create({toolbar:[["Link","Unlink"]]}),config5:Object.create(c),configSpnsrSP:Object.create(c),config6:Object.create({toolbar:[["Cut","Copy","Paste","-","Undo","Redo"],["Link","Unlink","Anchor"],["Table","HorizontalRule","SpecialChar"],["Maximize","ShowBlocks","Source","Preview"],["Italic","Strike","Subscript","Superscript","-","RemoveFormat"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Format","Styles"],["cloudcms-image"],["cloudcms-iframe"]],removeButtons:null,stylesSet:[{name:"Paragraph",element:"p"},{name:"OUP unbulleted list",element:"ul",attributes:{class:"unbulleted"}},{name:"OUP horizontal list",element:"ul",attributes:{class:"inline"}},{name:"OUP floatLeft Image",element:"img",attributes:{class:"floatLeft"}},{name:"OUP floatRight Image",element:"img",attributes:{class:"floatRight"}}],"cloudcms-image":{enableSize:!1,enableAltText:!1,imagePickerType:"oup-file-picker",hideUploadButton:!0,imagePickerConfig:{rootContainerPath:"../../..",initialContainerPath:"{{nearestJournalFolderPath}}/Image Library"}}}),config7:Object.create(l),configAbtPnlTxtHP:Object.create(l),configTextCB:Object.create({height:100,toolbar:[["Cut","Copy","Paste","-","Undo","Redo"],["Link","Unlink"],["Italic","NumberedList","BulletedList","Strike","Subscript","Superscript","SpecialChar","-","RemoveFormat","-","ShowBlocks"],["Format","Styles"]],removeButtons:null,stylesSet:[{name:"Paragraph",element:"p"},{name:"OUP unbulleted list",element:"ul",attributes:{class:"unbulleted"}},{name:"OUP horizontal list",element:"ul",attributes:{class:"inline"}},{name:"OUP floatLeft Image",element:"img",attributes:{class:"floatLeft"}},{name:"OUP floatRight Image",element:"img",attributes:{class:"floatRight"}}]}),config8:Object.create({toolbar:[["Format"],["SpecialChar","Subscript","Superscript","-","RemoveFormat"],["Link","Unlink"],["cloudcms-image"]],removeButtons:null,"cloudcms-image":{enableSize:!1,enableAltText:!1,imagePickerType:"oup-file-picker",hideUploadButton:!0,imagePickerConfig:{rootContainerPath:"../../..",initialContainerPath:"{{nearestJournalFolderPath}}/Image Library"}}}),config11:Object.create({height:50,toolbar:[["Bold","Italic"]]})},getFieldType:function(){return"oup-ckeditor-field"},setup:function(){if(this.options.ckeditor&&this.toolbarOptions[this.options.ckeditor]){var e=this.options.ckeditor;this.options.ckeditor=this.toolbarOptions[this.options.ckeditor],e&&"config5"==e?(this.options.ckeditor.format_tags="p;h4;pre;links",this.options.ckeditor.format_links={name:"callToAction",element:"p",attributes:{class:"callToAction"}},this.options.ckeditor.format_h4={name:"Normal",element:"p",attributes:{class:""}},this.options.ckeditor.format_h4={name:"Heading 4",element:"h4",attributes:{class:""}},this.options.ckeditor.format_pre={name:"Formatted",element:"pre",attributes:{class:""}}):this.options.ckeditor.format_tags=!e||"config1"!=e&&"config6"!=e&&"config8"!=e?"p;h2;h3;pre":"p;h2;h3;h4;pre",e&&"configMainTitleHP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:32}),e&&"configAbtPnlHead"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:35},this.options.ckeditor.autoParagraph=!1,this.options.ckeditor.enterMode=window.CKEDITOR.ENTER_BR),e&&"configAbtPnlLinkText"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:35},this.options.ckeditor.autoParagraph=!1,this.options.ckeditor.enterMode=window.CKEDITOR.ENTER_BR),e&&"configHeadCB"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:150}),e&&"configSecTitleHP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:36}),e&&"configSecDescHP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:100}),e&&"configMainDescHP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:150}),e&&"configSnippet"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:400},this.options.ckeditor.height="100"),e&&"configSnippetPodHP3"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:325},this.options.ckeditor.height="100"),e&&"configSnippetBR"==e&&(this.options.ckeditor.height="100",this.options.ckeditor.autoParagraph=!1,this.options.ckeditor.enterMode=window.CKEDITOR.ENTER_BR),e&&"configSnippetPodHP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:325},this.options.ckeditor.height="100",this.options.ckeditor.autoParagraph=!1,this.options.ckeditor.enterMode=window.CKEDITOR.ENTER_BR),e&&"configSnippetPodHP2"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:325},this.options.ckeditor.height="100",this.options.ckeditor.autoParagraph=!1,this.options.ckeditor.enterMode=window.CKEDITOR.ENTER_BR),e&&"configSpnsrSP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:400}),e&&"configAbtPnlTxtHP"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:210}),e&&"configTextCB"==e&&(this.options.ckeditor.wordcount={showParagraphs:!1,showWordCount:!0,showCharCount:!0,countSpacesAsChars:!0,countHTML:!1,warnOnLimitOnly:!0,maxCharCount:450})}this.isUserInTeam("academic-editors")&&(this.options.ckeditor.removeButtons="Source"),this.base()},isUserInTeam:function(e){var t=this.top().options.observableHolder,o=[];return!!(o=t.observable("project").get()?t.observable("projectUserTeamKeys").get():t.observable("oneteamUserTeamKeys").get())&&o.indexOf(e)>-1},afterRenderControl:function(e,t){this.base(e,(function(){t()}))},handleValidate:function(){return this.base()},getTitle:function(){return"OUP ckeditor Field"},getDescription:function(){return"Allow output markup rule overrides to ckeditor"}}),i.registerMessages({noDependentField:"No local config found"}),window.CKEDITOR.on("instanceReady",(function(e){e.editor.removeMenuItem("image")})),window.CKEDITOR.on("instanceReady",(function(e){e.editor.removeMenuItem("tablecell")})),window.CKEDITOR.on("dialogDefinition",(function(e){var t=e.data.name,o=e.data.definition;if(e.editor.getCommand("table").allowedContent="table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr;table[id,dir](*){*}",console.log(" dialog defination",t),"table"==t||"tableProperties"==t){var n=o.getContents("info");o.getContents("info").elements.pop(),o.getContents("info").elements.pop(),o.contents[1].elements[0].children.shift(),o.contents[1].elements[0].children[0].children.shift(),n.elements[0].children[0].children.pop(),n.elements[0].children[0].children.pop(),n.elements[0].children.pop(),n.get("selHeaders").items.pop(),n.get("selHeaders").items.pop()}"bulletedListStyle"==t&&(o.getContents("info").get("type").items.pop(),o.getContents("info").get("type").items.pop()),"image"==t&&(o.getContents("info").elements.pop(),o.getContents("info").elements.pop(),o.contents.pop()),"ul"==t&&console.log("test")})),i.registerFieldClass("oup-ckeditor",i.Fields.OUPCKEditorField)}.call(t,o,t,e))||(e.exports=n)},function(e,t,o){var n;void 0===(n=function(e,t,n){var i=o(33);return o(1).registerGadget("sample-product-document-properties",i.extend({prepareModel:function(e,t,o){var n=this.observable("document").get();this.base(e,t,(function(){"catalog:product"===n.getTypeQName()&&"sku"===propertyName&&t.properties.push({key:"wickedgoodcupcakes",title:"Wicked Good Cupcakes",value:"https://www.wickedgoodcupcakes.com",link:"https://www.wickedgoodcupcakes.com"}),o()}))}}))}.call(t,o,t,e))||(e.exports=n)},function(e,t){e.exports=s},function(e,t,o){(e.exports=o(4)(!1)).push([e.i,"",""])}])}));